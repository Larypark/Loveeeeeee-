<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Taibaaa | Burhan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Caveat:wght@400;700&family=Montserrat:wght@300;600&display=swap" rel="stylesheet">
    <style>
        :root { --soft-pink: #fff5f7; --deep-pink: #ff4d6d; }
        body { background: var(--soft-pink); overflow: hidden; font-family: 'Montserrat', sans-serif; perspective: 1500px; }
        .cursive { font-family: 'Dancing Script', cursive; }
        .pencil { font-family: 'Caveat', cursive; }

        @keyframes float-glow {
            0%, 100% { transform: translateY(0); text-shadow: 0 0 10px rgba(255, 77, 109, 0.2); }
            50% { transform: translateY(-10px); text-shadow: 0 0 20px rgba(255, 77, 109, 0.5); }
        }
        .animate-float-glow { animation: float-glow 3s infinite ease-in-out; }

        .heart-bloom { animation: heartBloom 1.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
        @keyframes heartBloom {
            0% { transform: scale(0); opacity: 0; clip-path: path('M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z'); }
            100% { transform: scale(1); opacity: 1; clip-path: circle(150% at 50% 50%); }
        }

        .page-exit { animation: pageShrink 0.7s ease-in forwards; }
        @keyframes pageShrink { 100% { transform: scale(0) rotate(-15deg); opacity: 0; } }

        .envelope-wrapper { position: relative; width: 320px; height: 200px; background: #f9d7da; border-bottom-left-radius: 10px; border-bottom-right-radius: 10px; cursor: pointer; margin-top: 100px; }
        .envelope-flap { position: absolute; top: 0; width: 0; height: 0; border-left: 160px solid transparent; border-right: 160px solid transparent; border-top: 100px solid #f2bbc0; z-index: 30; transition: 0.6s ease-in-out; transform-origin: top; }
        .envelope-open .envelope-flap { transform: rotateX(180deg); }
        
        .letter-container { position: absolute; top: 5px; left: 10px; width: 300px; height: 180px; background: white; z-index: 20; transition: 1s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 0 0 20px rgba(0,0,0,0.1); overflow: hidden; border-radius: 5px; }
        .envelope-open .letter-container { transform: translateY(-320px); height: 580px; width: 340px; left: -10px; z-index: 40; }

        .letter-scroll-area { height: 100%; width: 100%; padding: 20px; position: relative; overflow-y: auto; scrollbar-width: none; -ms-overflow-style: none; }
        .letter-scroll-area::-webkit-scrollbar { display: none; }

        .corner-sticker { position: absolute; border: 3px solid white; box-shadow: 0 4px 10px rgba(0,0,0,0.1); z-index: 55; object-fit: cover; }
        .circle-sticker { border-radius: 50%; width: 70px; height: 70px; }
        .square-sticker { border-radius: 8px; width: 100px; height: 100px; }

        .confetti { position: fixed; top: -20px; pointer-events: none; z-index: 100; animation: fall linear forwards; }
        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }

        @keyframes shake { 0% { transform: translate(0,0); } 20% { transform: translate(-5px, 5px); } 40% { transform: translate(5px, -5px); } 60% { transform: translate(-5px, -5px); } 80% { transform: translate(5px, 5px); } 100% { transform: translate(0,0); } }
        .meter-shake { animation: shake 0.1s infinite; }

        @keyframes bounce-slow { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
        .animate-bounce-slow { animation: bounce-slow 3s infinite ease-in-out; }
        .hidden { display: none; }

        .text-scroll-container { max-height: 400px; overflow-y: auto; scrollbar-width: none; -ms-overflow-style: none; padding-bottom: 20px; }
        .text-scroll-container::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen">

    <div id="slide-0" class="flex flex-col items-center z-10 text-center px-4">
        <div class="relative mb-6">
            <div class="absolute -inset-6 bg-pink-200 rounded-full blur-2xl animate-pulse"></div>
            <img src='https://i.postimg.cc/QMQ12tT2/b80e4c4921909833cc9c64cba5dda239.gif' class="w-72 h-72 rounded-[40px] object-cover border-8 border-white shadow-2xl relative z-10 animate-bounce-slow">
        </div>
        <p class="text-pink-500 tracking-[0.2em] text-lg font-bold mb-4 cursive uppercase">My Lovee Taibaaa</p>
        <button onclick="changePage(1)" class="px-14 py-5 bg-pink-500 text-white rounded-full font-bold shadow-2xl hover:scale-105 active:scale-95 transition-all flex items-center gap-3">
            <span>Open My Heart</span> <span class="text-xl">‚ù§Ô∏è</span>
        </button>
    </div>

    <div id="container" class="hidden w-full max-w-md px-6 z-10"></div>

    <script>
        const slidesData = [
            { 
                type: 'scrapbook', 
                title: 'Noor-e-Zindagi', 
                gif: 'https://i.postimg.cc/pLfWnx3F/shanelle_hello_kitty.gif',
                text: "Taiba, tum meri woh dua ho jo Allah ne qubool farmayi hai. Tumhare aane se meri viran zindagi mein bahaar aa gayi hai. Tum sirf meri pasand nahi, meri rooh ho. Meri har khushi tumse shuru hoti hai aur meri har manzil tum par khatam hoti hai. Tumhara saath hona hi mere liye sabse badi nemmat hai i lovee you taibaa jaaan.", 
                cornerGif: 'https://i.postimg.cc/2SRj639N/rose_flower.gif' 
            },
            { 
                type: 'scrapbook-animated', 
                title: 'Meri Rooh Ki Awaz', 
                gif: 'https://i.postimg.cc/qvyfZLLr/hello_kitty_hug.gif',
                text: "Meri jaan, meri mohabbat ki gehrai ko napna samandar ki teh tak pahunchne jaisa hai‚Äînamumkin. Main tumse itni shidat se mohabbat karta hoon ke agar meri saansein ruk bhi jayein, toh meri rooh tumhare naam ki tasbeeh padhti rahegi. Tum mere jism mein dhadkan ho.", 
                cornerGif: 'https://i.postimg.cc/SNXbcqY8/y√™u.gif' 
            },
            { 
                type: 'deep-text',
                title: 'To My  Soulmate taiba jaan ',
                text: "my love taiba jaaan the truth is words are way too small to ever reach the depth of what i feel for you because my love for you is something that exists beyond imagination and beyond anything this world has ever seen it‚Äôs a feeling so massive and so deep that it‚Äôs woven into my very soul making every other person and every other thing on this earth completely vanish when i look at you because you are the only truth i have i love you in a way that can‚Äôt be measured or explained by any language because what we have is a sacred connection that goes past the stars and into the infinite i don‚Äôt just love you with my heart i love you with every single breath i take and every piece of who i am you are my entire universe my ultimate peace and the only person i will ever love with this much intensity and power forever isn‚Äôt even enough time to show you how much you truly mean to me because even when the world goes quiet and everything else fades away my love for you stays burning with a fire that‚Äôs deeper than the ocean and wider than the galaxy itself taiba you are the heartbeat inside my chest and the very reason i believe in something eternal i love you beyond the end of time and beyond the reach of every dream i‚Äôve ever had, .", 
                cornerGif: 'https://i.postimg.cc/L6Z62jDs/teddy_bears_kissing_cute_teddy_bears_kissing.gif' 
            },
            { 
                type: 'meter', 
                title: 'Bond Calculator',
                cornerGif: 'https://i.postimg.cc/sX4RB854/meow_hs_meow_flowers.gif' 
            },
            { 
                type: 'envelope', 
                title: 'My Soul in Ink',
                letterGif1: 'https://i.postimg.cc/44KyWDrc/cat_cat_love.gif', 
                letterGif2: 'https://i.postimg.cc/Kvgvxtf8/wedding_love.gif'  
            },
            { 
                type: 'final', 
                title: 'Forever Yours Taiba', 
                cornerGif: 'https://i.postimg.cc/Bn9Z6t7n/giang_zzang.gif',
                box1: 'https://i.postimg.cc/6pJ63Tbq/i_love_you_so_much.gif',
                box2: 'https://i.postimg.cc/P5WX8h0M/40da73b65cdfd31672a8f28e67fb41ba.gif',
                box3: 'https://i.postimg.cc/NfWq4VRd/bubu_dudu_kisses.gif',
                box4: 'https://i.postimg.cc/c4840fh0/heart_silly_cat_love.gif' 
            }
        ];

        let currentPage = 0;

        function changePage(index) {
            const currentEl = document.querySelector('.heart-bloom') || document.getElementById('slide-0');
            currentEl.classList.add('page-exit');
            setTimeout(() => {
                currentEl.style.display = 'none';
                currentPage = index;
                renderSlide();
            }, 600);
        }

        function renderSlide() {
            const container = document.getElementById('container');
            container.classList.remove('hidden');
            container.innerHTML = '';
            const data = slidesData[currentPage - 1];
            const slide = document.createElement('div');
            slide.className = 'heart-bloom bg-white rounded-[40px] shadow-2xl p-8 relative min-h-[600px] flex flex-col items-center border-4 border-white';

            if (data.type === 'scrapbook' || data.type === 'scrapbook-animated') {
                const textClass = data.type === 'scrapbook-animated' ? 'animate-float-glow' : '';
                slide.innerHTML = `
                    <img src="${data.cornerGif}" class="corner-sticker circle-sticker -top-6 -right-6 rotate-12">
                    <div class="w-full aspect-square rounded-2xl overflow-hidden mb-8 border-4 border-pink-50 shadow-inner">
                        <img src="${data.gif}" class="w-full h-full object-cover">
                    </div>
                    <h2 class="text-3xl text-pink-600 cursive mb-4">${data.title}</h2>
                    <p class="text-xl text-gray-700 pencil text-center mb-4 leading-relaxed ${textClass}">${data.text}</p>
                    <button onclick="changePage(${currentPage + 1})" class="mt-auto w-full py-4 bg-pink-500 text-white rounded-2xl font-bold shadow-lg transition-transform active:scale-90">Next ‚ù§Ô∏è</button>
                `;
            } else if (data.type === 'deep-text') {
                slide.innerHTML = `
                    <div class="flex items-center gap-4 mb-4 w-full">
                        <h2 class="text-2xl text-pink-600 cursive flex-1">${data.title}</h2>
                        <img src="${data.cornerGif}" class="w-24 h-24 rounded-xl border-4 border-pink-100 shadow-md object-cover">
                    </div>
                    <div class="text-scroll-container" id="scrollContainer">
                        <p id="main-typewriter" class="text-lg text-gray-800 pencil leading-relaxed text-justify"></p>
                    </div>
                    <button id="deep-next" onclick="changePage(${currentPage + 1})" class="hidden mt-4 w-full py-4 bg-pink-500 text-white rounded-2xl font-bold transition-transform active:scale-90">Deepen Love üèπ</button>
                `;
                setTimeout(() => typeWriter('main-typewriter', data.text, 60, () => {
                    document.getElementById('deep-next').classList.remove('hidden');
                    document.getElementById('scrollContainer').style.overflowY = 'auto';
                }, 'scrollContainer'), 500);
            } else if (data.type === 'meter') {
                slide.innerHTML = `
                    <img src="${data.cornerGif}" class="corner-sticker circle-sticker -top-6 -left-6 -rotate-12">
                    <h2 class="text-4xl text-pink-600 cursive mb-10">Checking Souls...</h2>
                    <div id="meter-container" class="w-full bg-gray-100 h-14 rounded-full overflow-hidden mb-6 relative border-4 border-white">
                        <div id="meter" class="h-full bg-pink-500 w-0 transition-all duration-[0.5s] flex items-center justify-end px-4 text-white font-bold text-xl">0%</div>
                    </div>
                    <div id="math-result" class="hidden flex flex-col items-center animate-bounce mt-4">
                        <div class="text-8xl text-pink-500 drop-shadow-lg">‚àû</div>
                        <p class="text-2xl text-pink-600 cursive">Beyond Calculation!</p>
                        <img src="https://media.tenor.com/N638zWv_1vYAAAAM/flower-bloom.gif" class="w-32 h-32 rounded-full border-4 border-pink-100 mt-6 shadow-xl">
                    </div>
                    <button id="calc-btn" onclick="runMeter()" class="mt-auto w-full py-4 bg-pink-500 text-white rounded-2xl font-bold transition-transform active:scale-90">Start Measure</button>
                    <button id="next-from-math" onclick="changePage(${currentPage + 1})" class="hidden mt-auto w-full py-4 bg-black text-white rounded-2xl font-bold transition-transform active:scale-90">Open My Letter</button>
                `;
            } else if (data.type === 'envelope') {
                slide.className = 'heart-bloom flex flex-col items-center';
                slide.innerHTML = `
                    <h2 class="text-3xl text-pink-600 cursive mb-16 text-center animate-pulse">Tap the envelope, My Jaan...</h2>
                    <div class="envelope-wrapper" onclick="openLetter(this)">
                        <div class="envelope-flap"></div>
                        <div class="letter-container">
                            <div class="letter-scroll-area" id="letterScrollArea">
                                <div class="flex items-center justify-between mb-6">
                                    <img src="${data.letterGif1}" class="corner-sticker circle-sticker relative !w-16 !h-16 !border-2 !shadow-sm !top-0 !left-0">
                                    <img src="${data.letterGif2}" class="corner-sticker square-sticker relative !w-24 !h-24 !border-2 !shadow-sm !top-0 !right-0">
                                </div>
                                <h3 class="text-2xl text-pink-500 cursive mb-2">My Wife Taibaaa,</h3>
                                <div id="letter-typewriter" class="text-lg text-gray-700 pencil leading-[1.6rem]"></div>
                                <p id="sig" class="hidden mt-4 text-pink-600 font-bold text-right text-xl cursive">Forever Yours,<br>Burhan ‚ù§Ô∏è</p>
                            </div>
                        </div>
                    </div>
                    <div class="h-24 flex items-center justify-center mt-16">
                        <button id="final-btn" onclick="changePage(${currentPage + 1})" class="hidden px-12 py-4 bg-pink-500 text-white rounded-full font-bold animate-bounce shadow-2xl transition-transform active:scale-90">Final Surprise ‚ú®</button>
                    </div>
                `;
            } else if (data.type === 'final') {
                slide.innerHTML = `
                    <img src="${data.cornerGif}" class="corner-sticker circle-sticker -top-6 -right-6 rotate-12">
                    <h2 class="text-3xl text-pink-600 cursive mb-6 text-center">${data.title}</h2>
                    <div class="grid grid-cols-2 gap-4 w-full mb-8">
                        <div class="relative h-32 rounded-2xl overflow-hidden shadow-lg cursor-pointer transform hover:scale-105 transition-transform" onclick="reveal(this)">
                            <img src="${data.box1}" class="w-full h-full object-cover">
                            <div class="absolute inset-0 bg-white/95 hidden flex items-center justify-center text-center p-3 pencil text-xl font-bold text-pink-500">Taiba Jaan</div>
                        </div>
                        <div class="relative h-32 rounded-2xl overflow-hidden shadow-lg cursor-pointer transform hover:scale-105 transition-transform" onclick="reveal(this)">
                            <img src="${data.box2}" class="w-full h-full object-cover">
                            <div class="absolute inset-0 bg-white/95 hidden flex items-center justify-center text-center p-3 pencil text-xl font-bold text-pink-500">My Honey Baby</div>
                        </div>
                        <div class="relative h-32 rounded-2xl overflow-hidden shadow-lg cursor-pointer transform hover:scale-105 transition-transform" onclick="reveal(this)">
                            <img src="${data.box3}" class="w-full h-full object-cover">
                            <div class="absolute inset-0 bg-white/95 hidden flex items-center justify-center text-center p-3 pencil text-xl font-bold text-pink-500">Qurbaan</div>
                        </div>
                        <div class="relative h-32 rounded-2xl overflow-hidden shadow-lg cursor-pointer transform hover:scale-105 transition-transform" onclick="reveal(this)">
                            <img src="${data.box4}" class="w-full h-full object-cover">
                            <div class="absolute inset-0 bg-white/95 hidden flex items-center justify-center text-center p-3 pencil text-xl font-bold text-pink-500">My Duniya Wal Akhirah</div>
                        </div>
                    </div>
                    <button onclick="rain()" class="group mt-auto flex flex-col items-center transition-transform active:scale-95">
                        <div class="text-7xl animate-pulse group-active:scale-150 transition-transform">‚ù§Ô∏è</div>
                        <p class="text-pink-400 text-sm font-bold uppercase mt-3 tracking-widest">TAP ME TAIBAAA</p>
                    </button>
                `;
            }
            container.appendChild(slide);
        }

        function typeWriter(id, text, speed, callback, scrollId = null) {
            let i = 0;
            const target = document.getElementById(id);
            const scrollArea = scrollId ? document.getElementById(scrollId) : null;
            const interval = setInterval(() => {
                target.innerHTML += text.charAt(i);
                i++;
                if (scrollArea) scrollArea.scrollTop = scrollArea.scrollHeight;
                if (i >= text.length) {
                    clearInterval(interval);
                    if (callback) callback();
                }
            }, speed);
        }

        function runMeter() {
            const meter = document.getElementById('meter');
            const container = document.getElementById('meter-container');
            const btn = document.getElementById('calc-btn');
            btn.style.display = 'none';
            
            let count = 0;
            const int = setInterval(() => {
                count++;
                meter.style.width = Math.min(count, 100) + '%';
                meter.innerText = count + "%";

                if (count > 100) {
                    container.classList.add('meter-shake');
                    meter.style.background = '#e11d48';
                }

                if (count >= 150) { 
                    clearInterval(int);
                    container.style.opacity = '0';
                    setTimeout(() => {
                        container.style.display = 'none';
                        document.getElementById('math-result').classList.remove('hidden');
                        document.getElementById('next-from-math').classList.remove('hidden');
                    }, 400);
                }
            }, 30);
        }

        function openLetter(el) {
            if(el.classList.contains('envelope-open')) return;
            el.classList.add('envelope-open');
            const text = "To Taiba Jaan, my princess, my wife, and the keeper of my very soul. Explaining my love for you is impossible because it exists in a place where words haven't been invented yet. You aren't just the love of my life; you are the life inside my heart, a sacred light that Allah placed in my path to guide me home. Every beat of my heart is just a whisper of your name, echoing a devotion that is deeper than the oceans and older than time itself. I promise to cherish you with a loyalty that never breaks and a passion that never fades, standing as your fortress through every trial. You are my ultimate peace, my greatest miracle, and my entire universe wrapped into one. I love you with a depth that goes beyond the stars and into the infinite forever.‚ù§Ô∏è";
            
            setTimeout(() => {
                typeWriter('letter-typewriter', text, 35, () => {
                    document.getElementById('sig').classList.remove('hidden');
                    document.getElementById('final-btn').classList.remove('hidden');
                    document.getElementById('letterScrollArea').style.overflowY = 'auto';
                }, 'letterScrollArea');
            }, 1200);
        }

        function reveal(el) { el.querySelector('div').classList.remove('hidden'); }

        function rain() {
            for(let i=0; i<150; i++) {
                const f = document.createElement('div');
                f.className = 'confetti';
                f.innerText = ['üå∏','‚ù§Ô∏è','üå∑','üåπ','üíñ','‚ú®'][Math.floor(Math.random()*6)];
                f.style.left = Math.random() * 100 + 'vw';
                f.style.fontSize = (Math.random() * 25 + 20) + 'px';
                f.style.animationDuration = (Math.random() * 3 + 2) + 's';
                document.body.appendChild(f);
                setTimeout(() => f.remove(), 5000);
            }
        }
    </script>
</body>
</html>
